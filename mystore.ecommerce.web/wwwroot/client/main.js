(self.webpackChunkclient=self.webpackChunkclient||[]).push([[179],{255:m=>{function g(c){return Promise.resolve().then(()=>{var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h})}g.keys=()=>[],g.resolve=g,g.id=255,m.exports=g},881:(m,g,c)=>{"use strict";var h=c(75),e=c(639),v=c(841),q=c(215),f=c(2);class b{}class A{constructor(){this.orderNumber="M"+Math.random().toString().substr(2,4),this.orderDate=new Date,this.totalAmount=0,this.totalDiscount=0,this.orderItems=[]}get subtotal(){return this.orderItems.reduce((t,n)=>t+n.unitPrice*n.quantity,0)}}let l=(()=>{class r{constructor(t){this.http=t,this._loginStatus=new q.X(this.checkLoginStatus()),this.loginStatus=this._loginStatus.asObservable(),this.products=[],this.order=new A,this.token="",this.expiration=new Date,this.message="",this.lastOrderNumber=""}get getLogin(){return this._loginStatus.asObservable()}checkLoginStatus(){return this.isAuthenticated}loadProducts(){return this.http.get("/api/products").pipe((0,f.U)(t=>{this.products=t}))}get loginRequired(){return 0==this.token.length||this.expiration>new Date}login(t){return this.http.post("/account/createtoken",t).pipe((0,f.U)(n=>{this.token=n.token,this.expiration=n.expiration,this.isAuthenticated=n.IsAuthenticated,this._loginStatus.next(Object.assign({},this.isAuthenticated))}))}register(t){return this.http.post("/account/Register",t).pipe((0,f.U)(n=>{this.token=n.token,this.expiration=n.expiration,this.isAuthenticated=n.IsAuthenticated,this._loginStatus.next(Object.assign({},this.isAuthenticated))}))}addToOrder(t){let n;if(n=this.order.orderItems.find(s=>s.productId===t.id),n)n.quantity++,this.order.totalAmount=this.order.totalAmount+n.unitPrice,n.totalPrice=n.totalPrice+n.unitPrice;else{const s=new b;s.productId=t.id,s.product=t,s.unitPrice=t.price,s.quantity=1,s.totalPrice=t.price,this.order.totalAmount=this.order.totalAmount+s.totalPrice,this.order.orderItems.push(s)}}removeFromCart(t){let n;n=this.order.orderItems.find(s=>s.productId===t.id),n&&(this.order.totalAmount=this.order.totalAmount-(null==n?void 0:n.totalPrice),this.order.orderItems=this.order.orderItems.filter(s=>s!==n))}checkout(){const t=(new v.WM).set("Authorization",`Bearer ${this.token}`);return this.http.post("/api/orders",this.order,{headers:t}).pipe((0,f.U)(()=>{this.lastOrderNumber=this.order.orderNumber,this.order=new A}))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(v.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();var u=c(901),d=c(583);function x(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"li",7),e.TgZ(1,"a",10),e.NdJ("click",function(){return e.CHM(t),e.oxw().logout()}),e._uU(2,"Logout"),e.qZA(),e.qZA()}}function M(r,o){1&r&&(e.TgZ(0,"li",7),e.TgZ(1,"a",11),e._uU(2,"Login"),e.qZA(),e.qZA())}function w(r,o){1&r&&(e.TgZ(0,"li",7),e.TgZ(1,"a",12),e._uU(2,"Register"),e.qZA(),e.qZA())}let P=(()=>{class r{constructor(t,n){this.store=t,this.router=n}ngOnInit(){this.store.loginStatus.subscribe(t=>{this.loginStatus=t}),this.store.checkLoginStatus()}logout(){window.location.reload()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l),e.Y36(u.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["nav-menu"]],decls:14,vars:3,consts:[[1,"navbar","navbar-dark","bg-dark","navbar-expand-md","bg-grey"],[1,"navbar-brand"],[1,"fas","fa-store","store-logo"],["data-toggle","collapse","data-target","#theMenu",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","theMenu",1,"navbar-collapse","collapse"],[1,"navbar-nav"],[1,"nav-item"],["routerLink","/",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"nav-link",3,"click"],["routerLink","login",1,"nav-link"],["routerLink","register",1,"nav-link"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0),e.TgZ(1,"h1",1),e._UZ(2,"i",2),e._uU(3,"My Store"),e.qZA(),e.TgZ(4,"button",3),e._UZ(5,"span",4),e.qZA(),e.TgZ(6,"div",5),e.TgZ(7,"ul",6),e.TgZ(8,"li",7),e.TgZ(9,"a",8),e._uU(10,"Home"),e.qZA(),e.qZA(),e.YNc(11,x,3,0,"li",9),e.YNc(12,M,3,0,"li",9),e.YNc(13,w,3,0,"li",9),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(11),e.Q6J("ngIf",n.loginStatus),e.xp6(1),e.Q6J("ngIf",!n.loginStatus),e.xp6(1),e.Q6J("ngIf",!n.loginStatus))},directives:[u.yS,d.O5],encapsulation:2}),r})(),y=(()=>{class r{constructor(t){this.store=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["the-shop"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"col-12"]],template:function(t,n){1&t&&(e.TgZ(0,"header",0),e._UZ(1,"nav-menu"),e.qZA(),e.TgZ(2,"section",0),e.TgZ(3,"div",1),e.TgZ(4,"div",2),e._UZ(5,"router-outlet"),e.qZA(),e.qZA(),e.qZA())},directives:[P,u.lC],encapsulation:2}),r})();function U(r,o){if(1&r&&(e.TgZ(0,"div",10),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}function C(r,o){1&r&&(e.TgZ(0,"h4",11),e._uU(1," Your cart is empty.. "),e._UZ(2,"i",12),e.qZA())}function k(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"tr"),e.TgZ(1,"td"),e._UZ(2,"img",13),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.ALo(9,"currency"),e.qZA(),e.TgZ(10,"td"),e._uU(11),e.ALo(12,"currency"),e.qZA(),e.TgZ(13,"td"),e.TgZ(14,"button",14),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().store.removeFromCart(i.product)}),e._UZ(15,"i",15),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=o.$implicit;e.xp6(2),e.MGl("src","/img/",t.product.imageName,"",e.LSH),e.xp6(2),e.lnq("",t.product.category,"(",t.product.size,") : ",t.product.productName,""),e.xp6(2),e.Oqu(t.quantity),e.xp6(2),e.Oqu(e.xi3(9,7,t.unitPrice,"LKR ")),e.xp6(3),e.Oqu(e.xi3(12,10,t.unitPrice*t.quantity,"LKR "))}}let I=(()=>{class r{constructor(t,n){this.store=t,this.router=n,this.errorMessage=""}onCheckout(){this.errorMessage="",this.store.checkout().subscribe(()=>{this.router.navigate(["payment"])},t=>{this.errorMessage=`Failed to checkout: ${t}`})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l),e.Y36(u.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["checkout"]],decls:30,vars:12,consts:[[1,"row"],["class","alert alert-danger",4,"ngIf"],["class","empty-cart",4,"ngIf"],[1,"table","table-bordered","table-hover"],[4,"ngFor","ngForOf"],[1,"col-md-4","col-md-offset-8","text-right"],[1,"table","table-condensed"],[1,"text-right"],[1,"btn","btn-success",3,"disabled","click"],["routerLink","/",1,"btn","btn-info"],[1,"alert","alert-danger"],[1,"empty-cart"],[1,"fa","fa-shopping-cart"],["alt","o.product.productName",1,"img-thumbnail","checkout-thumb",3,"src"],[1,"btn","btn-danger","btn-remove",3,"click"],[1,"fas","fa-times"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"h3"),e._uU(2,"Confirm Order"),e.qZA(),e.YNc(3,U,2,1,"div",1),e.YNc(4,C,3,0,"h4",2),e.TgZ(5,"table",3),e.YNc(6,k,16,13,"tr",4),e.qZA(),e.TgZ(7,"div",5),e.TgZ(8,"table",6),e.TgZ(9,"tr"),e.TgZ(10,"td",7),e._uU(11,"Subtotal"),e.qZA(),e.TgZ(12,"td",7),e._uU(13),e.ALo(14,"currency"),e.qZA(),e.qZA(),e.TgZ(15,"tr"),e.TgZ(16,"td",7),e._uU(17,"Shipping"),e.qZA(),e.TgZ(18,"td",7),e._uU(19,"LKR 0.00"),e.qZA(),e.qZA(),e.TgZ(20,"tr"),e.TgZ(21,"td",7),e._uU(22,"Total:"),e.qZA(),e.TgZ(23,"td",7),e._uU(24),e.ALo(25,"currency"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(26,"button",8),e.NdJ("click",function(){return n.onCheckout()}),e._uU(27,"Complete Purchase"),e.qZA(),e.TgZ(28,"a",9),e._uU(29,"Cancel"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",n.errorMessage),e.xp6(1),e.Q6J("ngIf",0==n.store.order.orderItems.length),e.xp6(2),e.Q6J("ngForOf",n.store.order.orderItems),e.xp6(7),e.Oqu(e.xi3(14,6,n.store.order.subtotal,"LKR ")),e.xp6(11),e.Oqu(e.xi3(25,9,n.store.order.subtotal,"LKR ")),e.xp6(2),e.Q6J("disabled",0==n.store.order.orderItems.length))},directives:[d.O5,d.sg,u.yS],pipes:[d.H9],styles:[".checkout-thumb[_ngcontent-%COMP%]{max-width:100px}.empty-cart[_ngcontent-%COMP%]{color:#d3d3d3;text-align:center}"]}),r})();var a=c(665);function N(r,o){if(1&r&&(e.TgZ(0,"div",14),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}function L(r,o){1&r&&(e.TgZ(0,"div",15),e._uU(1,"Required"),e.qZA())}function O(r,o){1&r&&(e.TgZ(0,"div",15),e._uU(1,"Required"),e.qZA())}let J=(()=>{class r{constructor(t,n){this.store=t,this.router=n,this.creds={username:"",password:""},this.errorMessage=""}ngOnInit(){this.loginStatus=this.store.loginStatus,this.store.checkLoginStatus()}onLogin(){this.store.login(this.creds).subscribe(()=>{this.store.isAuthenticated=!0,this.router.navigate(this.store.order.orderItems.length>0?["checkout"]:[""])},t=>{console.log(t),this.errorMessage="Failed to login"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l),e.Y36(u.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["login-page"]],decls:20,vars:6,consts:[[1,"row"],[1,"col-md-6","offset-md-3"],["class","alert alert-danger",4,"ngIf"],[3,"submit"],[1,"form-group"],["for","username"],["type","text","name","name","required","",1,"form-control",3,"ngModel","ngModelChange"],["username","ngModel"],["class","text-danger",4,"ngIf"],["for","password"],["type","password","name","password","required","",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit","value","Login",1,"btn","btn-success",3,"disabled"],["href","#",1,"btn","btn-default"],[1,"alert","alert-danger"],[1,"text-danger"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,N,2,1,"div",2),e.TgZ(3,"form",3),e.NdJ("submit",function(){return n.onLogin()}),e.TgZ(4,"div",4),e.TgZ(5,"label",5),e._uU(6,"Username"),e.qZA(),e.TgZ(7,"input",6,7),e.NdJ("ngModelChange",function(i){return n.creds.username=i}),e.qZA(),e.YNc(9,L,2,0,"div",8),e.qZA(),e.TgZ(10,"div",4),e.TgZ(11,"label",9),e._uU(12,"Password"),e.qZA(),e.TgZ(13,"input",10,11),e.NdJ("ngModelChange",function(i){return n.creds.password=i}),e.qZA(),e.YNc(15,O,2,0,"div",8),e.qZA(),e.TgZ(16,"div",4),e._UZ(17,"input",12),e.TgZ(18,"a",13),e._uU(19,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const s=e.MAs(8),i=e.MAs(14);e.xp6(2),e.Q6J("ngIf",n.errorMessage),e.xp6(5),e.Q6J("ngModel",n.creds.username),e.xp6(2),e.Q6J("ngIf",s.touched&&s.invalid&&(null==s.errors?null:s.errors.required)),e.xp6(4),e.Q6J("ngModel",n.creds.password),e.xp6(2),e.Q6J("ngIf",i.touched&&i.invalid&&(null==i.errors?null:i.errors.required)),e.xp6(2),e.Q6J("disabled",s.invalid||i.invalid)}},directives:[d.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On],encapsulation:2}),r})(),F=(()=>{class r{constructor(t,n){this.store=t,this.router=n,this.orderNumber=""}ngOnInit(){this.orderNumber=this.store.lastOrderNumber}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l),e.Y36(u.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["payment"]],decls:14,vars:1,consts:[[1,"row"],[1,"col-md-12","thank-you"],["src","/img/success.png"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"img",2),e.TgZ(3,"h2"),e._uU(4,"Thank you"),e.qZA(),e.TgZ(5,"p"),e._uU(6,"Your order was completed successfully"),e.qZA(),e.TgZ(7,"h3"),e._uU(8,"Order No: "),e.TgZ(9,"strong"),e._uU(10),e.qZA(),e.qZA(),e.TgZ(11,"p"),e._uU(12,"Have a nice day !!"),e.qZA(),e._UZ(13,"p"),e.qZA(),e.qZA()),2&t&&(e.xp6(10),e.Oqu(n.orderNumber))},styles:[".thank-you[_ngcontent-%COMP%]{text-align:center}"]}),r})();function R(r,o){if(1&r&&(e.TgZ(0,"div",25),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.errorMessage)}}function Y(r,o){if(1&r&&(e.TgZ(0,"div",26),e._uU(1),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Oqu(t.successMessage)}}function S(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1,"Required"),e.qZA())}function Q(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1,"Required"),e.qZA())}function H(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1,"Required"),e.qZA())}function V(r,o){1&r&&(e.TgZ(0,"div",28),e._uU(1,"Invalid Email"),e.qZA())}function X(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1,"Required"),e.qZA())}function j(r,o){1&r&&(e.TgZ(0,"div",28),e._uU(1," Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters."),e.qZA())}function E(r,o){1&r&&(e.TgZ(0,"div",27),e._uU(1,"Required"),e.qZA())}function z(r,o){1&r&&(e.TgZ(0,"div",28),e._uU(1," Password & Confirm Password does not match."),e.qZA())}let D=(()=>{class r{constructor(t,n){this.store=t,this.router=n,this.userInfo={firstname:"",lastname:"",email:"",password:"",confirmpassword:""},this.errorMessage="",this.successMessage=""}onRegister(){this.store.register(this.userInfo).subscribe(()=>{this.store.isAuthenticated=!0,this.successMessage="Successfully Registered"},t=>{console.log(t),this.errorMessage="Failed to register"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l),e.Y36(u.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["register-page"]],decls:42,vars:16,consts:[[1,"row"],[1,"col-md-6","offset-md-3"],["class","alert alert-danger",4,"ngIf"],["class","alert alert-success",4,"ngIf"],[3,"submit"],[1,"form-group"],["for","firstname"],["type","text","name","firstname","required","",1,"form-control",3,"ngModel","ngModelChange"],["firstname","ngModel"],["class","text-danger",4,"ngIf"],["for","lastname"],["type","text","name","lastname","required","",1,"form-control",3,"ngModel","ngModelChange"],["lastname","ngModel"],["for","email"],["type","email","name","email","required","","email","",1,"form-control",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-warning",4,"ngIf"],["for","password"],["type","password","name","password","required","","pattern","(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",1,"form-control",3,"ngModel","ngModelChange"],["password","ngModel"],["for","confirmpassword"],["type","password","name","confirmpassword","required","",1,"form-control",3,"ngModel","pattern","ngModelChange"],["confirmpassword","ngModel"],["type","submit","value","Register",1,"btn","btn-success"],["href","#",1,"btn","btn-default"],[1,"alert","alert-danger"],[1,"alert","alert-success"],[1,"text-danger"],[1,"text-warning"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.YNc(2,R,2,1,"div",2),e.YNc(3,Y,2,1,"div",3),e.TgZ(4,"form",4),e.NdJ("submit",function(){return n.onRegister()}),e.TgZ(5,"div",5),e.TgZ(6,"label",6),e._uU(7,"First Name"),e.qZA(),e.TgZ(8,"input",7,8),e.NdJ("ngModelChange",function(i){return n.userInfo.firstname=i}),e.qZA(),e.YNc(10,S,2,0,"div",9),e.qZA(),e.TgZ(11,"div",5),e.TgZ(12,"label",10),e._uU(13,"Last Name"),e.qZA(),e.TgZ(14,"input",11,12),e.NdJ("ngModelChange",function(i){return n.userInfo.lastname=i}),e.qZA(),e.YNc(16,Q,2,0,"div",9),e.qZA(),e.TgZ(17,"div",5),e.TgZ(18,"label",13),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"input",14,15),e.NdJ("ngModelChange",function(i){return n.userInfo.email=i}),e.qZA(),e.YNc(22,H,2,0,"div",9),e.YNc(23,V,2,0,"div",16),e.qZA(),e.TgZ(24,"div",5),e.TgZ(25,"label",17),e._uU(26,"Password"),e.qZA(),e.TgZ(27,"input",18,19),e.NdJ("ngModelChange",function(i){return n.userInfo.password=i}),e.qZA(),e.YNc(29,X,2,0,"div",9),e.YNc(30,j,2,0,"div",16),e.qZA(),e.TgZ(31,"div",5),e.TgZ(32,"label",20),e._uU(33,"Confirm Password"),e.qZA(),e.TgZ(34,"input",21,22),e.NdJ("ngModelChange",function(i){return n.userInfo.confirmpassword=i}),e.qZA(),e.YNc(36,E,2,0,"div",9),e.YNc(37,z,2,0,"div",16),e.qZA(),e.TgZ(38,"div",5),e._UZ(39,"input",23),e.TgZ(40,"a",24),e._uU(41,"Cancel"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t){const s=e.MAs(9),i=e.MAs(15),p=e.MAs(21),Z=e.MAs(28),_=e.MAs(35);e.xp6(2),e.Q6J("ngIf",n.errorMessage),e.xp6(1),e.Q6J("ngIf",n.errorMessage),e.xp6(5),e.Q6J("ngModel",n.userInfo.firstname),e.xp6(2),e.Q6J("ngIf",s.touched&&s.invalid&&(null==s.errors?null:s.errors.required)),e.xp6(4),e.Q6J("ngModel",n.userInfo.lastname),e.xp6(2),e.Q6J("ngIf",i.touched&&i.invalid&&(null==i.errors?null:i.errors.required)),e.xp6(4),e.Q6J("ngModel",n.userInfo.email),e.xp6(2),e.Q6J("ngIf",p.touched&&p.invalid&&(null==p.errors?null:p.errors.required)),e.xp6(1),e.Q6J("ngIf",null==p.errors?null:p.errors.email),e.xp6(4),e.Q6J("ngModel",n.userInfo.password),e.xp6(2),e.Q6J("ngIf",Z.touched&&Z.invalid&&(null==Z.errors?null:Z.errors.required)),e.xp6(1),e.Q6J("ngIf",null==Z.errors?null:Z.errors.pattern),e.xp6(4),e.s9C("pattern",Z.value),e.Q6J("ngModel",n.userInfo.confirmpassword),e.xp6(2),e.Q6J("ngIf",_.touched&&_.invalid&&(null==_.errors?null:_.errors.required)),e.xp6(1),e.Q6J("ngIf",null==_.errors?null:_.errors.pattern)}},directives:[d.O5,a._Y,a.JL,a.F,a.Fj,a.Q7,a.JJ,a.On,a.on,a.c5],encapsulation:2}),r})();function G(r,o){if(1&r){const t=e.EpF();e.TgZ(0,"div",2),e.TgZ(1,"div",3),e._UZ(2,"img",4),e.TgZ(3,"ul",5),e.TgZ(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li"),e.TgZ(7,"h4",6),e._uU(8),e.qZA(),e.qZA(),e.TgZ(9,"li"),e._uU(10),e.qZA(),e.TgZ(11,"li"),e.TgZ(12,"p",7),e.TgZ(13,"strong"),e._uU(14),e.ALo(15,"currency"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.TgZ(16,"div",8),e.TgZ(17,"button",9),e.NdJ("click",function(){const i=e.CHM(t).$implicit;return e.oxw().store.addToOrder(i)}),e._uU(18,"Add to cart"),e.qZA(),e.qZA(),e.qZA(),e.qZA()}if(2&r){const t=o.$implicit;e.xp6(2),e.MGl("src","/img/",t.imageName,"",e.LSH),e.s9C("alt",t.productName),e.xp6(3),e.Oqu(t.category),e.xp6(3),e.Oqu(t.productName),e.xp6(2),e.Oqu(t.size),e.xp6(4),e.hij(" ",e.xi3(15,6,t.price,"LKR ")," ")}}let K=(()=>{class r{constructor(t){this.store=t,this.products=[]}ngOnInit(){this.store.loadProducts().subscribe(()=>{})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["product-list"]],decls:2,vars:1,consts:[[1,"row","text-center"],["class","card mb-4 box-shadow col-md-3",4,"ngFor","ngForOf"],[1,"card","mb-4","box-shadow","col-md-3"],[1,"rounded","p-1","fill-height"],[1,"img-fluid",3,"src","alt"],[1,"list-unstyled","mt-3","mb-4"],[1,"my-0","font-weight-normal"],[1,"p-1"],[1,""],["id","buyButton",1,"btn","btn-success","btn-block","mt-auto",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,G,19,9,"div",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",n.store.products))},directives:[d.sg],pipes:[d.H9],styles:[".product-image[_ngcontent-%COMP%]{border:1px #ddd solid;box-shadow:#0006 2px 2px;margin:2px}"]}),r})(),$=(()=>{class r{constructor(t){this.store=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(l))},r.\u0275cmp=e.Xpm({type:r,selectors:[["cart"]],decls:4,vars:1,consts:[["routerLink","checkout",1,"btn","cart-link"],[1,"fas","fa-shopping-cart"]],template:function(t,n){1&t&&(e.TgZ(0,"div"),e.TgZ(1,"a",0),e._UZ(2,"i",1),e._uU(3),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.hij(" ",n.store.order.orderItems.length,""))},directives:[u.yS],styles:["product-thumb[_ngcontent-%COMP%]{max-width:150px}"]}),r})(),B=(()=>{class r{constructor(){this.title="Welcome to My Store"}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["shop-page"]],decls:7,vars:1,consts:[[1,"row"],[1,"col-11"],[1,"col-1"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"h3"),e._uU(3),e.qZA(),e._UZ(4,"product-list"),e.qZA(),e.TgZ(5,"div",2),e._UZ(6,"cart"),e.qZA(),e.qZA()),2&t&&(e.xp6(3),e.Oqu(n.title))},directives:[K,$],encapsulation:2}),r})(),T=(()=>{class r{constructor(t,n){this.store=t,this.router=n}canActivate(t,n){return!this.store.loginRequired||(this.router.navigate(["login"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(l),e.LFG(u.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const ee=u.Bz.forRoot([{path:"",component:B},{path:"checkout",component:I,canActivate:[T]},{path:"login",component:J},{path:"register",component:D},{path:"payment",component:F},{path:"**",redirectTo:"/"}],{useHash:!1});let te=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[y]}),r.\u0275inj=e.cJS({providers:[l,T],imports:[[h.b2,v.JF,ee,a.u5]]}),r})();(0,e.G48)(),h.q6().bootstrapModule(te).catch(r=>console.error(r))}},m=>{m.O(0,[736],()=>m(m.s=881)),m.O()}]);